<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Crypto Navigator – Paper Trading</title>
  <style>
    body { font-family:sans-serif; max-width:600px; margin:40px auto; }
    input,select,button { font-size:1rem; margin:6px 0; padding:6px; }
    #result { margin-top:20px; font-family:monospace; white-space:pre; }
  </style>
</head>
<body>
  <h2>Crypto Navigator Paper Trade</h2>
  <form id="tradeForm">
    <label>Pair:
      <select id="product">
        <option>BTC-USD</option>
        <option>ETH-USD</option>
      </select>
    </label><br/>
    <label>Side:
      <select id="side">
        <option>buy</option>
        <option>sell</option>
      </select>
    </label><br/>
    <label>Amount (USD):
      <input id="usd" type="number" value="25" min="1"/>
    </label><br/>
    <button type="submit">Simulate Trade</button>
  </form>

  <div id="result"></div>

  <script>
    window.CN_ADMIN_TOKEN = prompt("ba029d06b391882bcbbe9aed6c2de5cd:");
    const form = document.getElementById('tradeForm');
    form.addEventListener('submit', async e => {
      e.preventDefault();
      const product = document.getElementById('product').value;
      const side = document.getElementById('side').value;
      const usd = parseFloat(document.getElementById('usd').value);
      const res = await fetch('/api/paper-order', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer ' + (window.CN_ADMIN_TOKEN || '')
  },
  body: JSON.stringify({product, side, usd})
});
      const data = await res.json();
      document.getElementById('result').textContent =
        JSON.stringify(data, null, 2);
    });
  </script>
</body>
</html>

  <script>
    const resultEl = document.getElementById('result');
    const adminToken = 'YOUR_ADMIN_TOKEN_HERE'; // same token you use now

    // PAPER handler (existing one – adjust names to match your current code)
    document.getElementById('trade-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const product = document.getElementById('pair').value;
      const side    = document.getElementById('side').value;
      const usd     = Number(document.getElementById('amount').value);

      const res = await fetch('/api/paper-order', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer ' + adminToken
        },
        body: JSON.stringify({ product, side, usd })
      });

      const json = await res.json();
      resultEl.textContent = JSON.stringify(json, null, 2);
    });

    // LIVE handler (the code you pasted)
    document.getElementById('live-btn').addEventListener('click', async (e) => {
      e.preventDefault();
      const product = document.getElementById('pair').value;
      const side    = document.getElementById('side').value.toUpperCase();
      const usd     = Number(document.getElementById('amount').value);

      const res = await fetch('/api/live-order', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer ' + adminToken   // same as paper
        },
        body: JSON.stringify({ product, side, usd })
      });

      const json = await res.json();
      resultEl.textContent = JSON.stringify(json, null, 2);
    });
  </script>
</body>
</html>
